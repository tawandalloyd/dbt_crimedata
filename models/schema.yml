version: 2

models:
  - name: dim_employer
    description: "A test for dim employer"
    columns:
      - name: EMPLOYER_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_assessment_event_status
    description: "A test for dim assessment event status"
    columns:
      - name: ASSESSMENT_EVENT_STATUS_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: im_assessment_event_type
    description: "A test for dim assessment event type"
    columns:
      - name: ASSESSMENT_EVENT_TYPE_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_grade
    description: "A test for dim grade"
    columns:
      - name: GRADE_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_institution
    description: "A test for dim institution"
    columns:
      - name: INSTITUTION_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_member
    description: "A test for dim member"
    columns:
      - name: MEMBER_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_membership_status
    description: "A test for dim membership status"
    columns:
      - name: MEMBERSHIP_STATUS_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_membership_type
    description: "A test for dim membership type"
    columns:
      - name: MEMBERSHIP_TYPE_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_qualification
    description: "A test for dim qualification"
    columns:
      - name: QUALIFICATION_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null
  
  - name: dim_schedule_type
    description: "A test for dim schedule type"
    columns:
      - name: SCHEDULE_TYPE_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_subject
    description: "A test for dim subject"
    columns:
      - name: SUBJECT_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: dim_venue
    description: "A test for dim venue"
    columns:
      - name: VENUE_ID
        description: "The primary key for this table"
        tests:
          - unique
          - not_null

  - name: fact_assessment_history
    description: "A test for fact assessment history"
    columns:
      - name: MEMBER_KEY
        description: "The primary key for this table"
        tests:
          - relationships:
              to: ref('dim_member')
              field: MEMBER_KEY

  - name: fact_employment_history
    description: "A test for fact employment history"
    columns:
      - name: MEMBER_KEY
        description: "The primary key for this table"
        tests:
          - relationships:
              to: ref('dim_member')
              field: MEMBER_KEY

  - name: fact_membership_history
    description: "A test for fact membership history"
    columns:
      - name: MEMBER_KEY
        description: "The primary key for this table"
        tests:
          - relationships:
              to: ref('dim_member')
              field: MEMBER_KEY

  - name: fact_qualification_history
    description: "A test for fact assessment history"
    columns:
      - name: MEMBER_KEY
        description: "The primary key for this table"
        tests:
          - relationships:
              to: ref('dim_member')
              field: MEMBER_KEY
        
  - name: fact_member_montly_snapshot
    description: "A test for fact assessment history"
    columns:
      - name: MEMBER_KEY
        description: "The primary key for this table"
        tests:
          - relationships:
              to: ref('dim_member')
              field: MEMBER_KEY
          





